using Content.Server.Nodes.EntitySystems.Debugging;
using Content.Shared.Nodes;

namespace Content.Server.Nodes.Components.Debugging;

/// <summary>
/// A component that automatically links nodes within a given distance.
/// </summary>
[Access(typeof(DebugNodeAutolinkerSystem))]
[RegisterComponent]
public sealed partial class DebugNodeAutolinkerComponent : Component
{
    /// <summary>
    /// The maximum distance between nodes the autolinker will generate new edges across.
    /// </summary>
    [DataField("baseRange")]
    [ViewVariables(VVAccess.ReadWrite)]
    public float BaseRange = 3f;

    /// <summary>
    /// How far beyond the base range the autolinker will maintain existing edges across.
    /// </summary>
    [DataField("hysteresisRange")]
    [ViewVariables(VVAccess.ReadWrite)]
    public float HysteresisRange = 1f;

    /// <summary>
    /// The flags edges generated by this autolinker have.
    /// </summary>
    [DataField("edgeFlags")]
    [ViewVariables(VVAccess.ReadWrite)]
    public EdgeFlags Flags = EdgeFlags.None;

    /// <summary>
    /// Whether the autolinker should form edges between nodes with different graph types.
    /// </summary>
    [DataField("allowBridging")]
    [ViewVariables(VVAccess.ReadWrite)]
    public bool AllowBridging = false;
}
