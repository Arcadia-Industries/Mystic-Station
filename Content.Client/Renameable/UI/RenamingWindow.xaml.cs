using Robust.Client.AutoGenerated;
using Robust.Client.UserInterface.CustomControls;
using Robust.Client.UserInterface.XAML;

namespace Content.Client.Renameable.UI;

[GenerateTypedNameReferences]
public sealed partial class RenamingWindow : DefaultWindow
{
    public event Action<string>? OnRenamed;

    public RenamingWindow(string name)
    {
        RobustXamlLoader.Load(this);

        NameLineEdit.Text = name;
        NameLineEdit.OnTextEntered += e => OnRenamed?.Invoke(e.Text);
        NameLineEdit.OnFocusExit += e => OnRenamed?.Invoke(e.Text);
    }
}
