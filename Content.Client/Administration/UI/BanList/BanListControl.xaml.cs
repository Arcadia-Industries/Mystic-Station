using System.Linq;
using Content.Client.Administration.UI.CustomControls;
using Content.Shared.Administration.BanList;
using Robust.Client.AutoGenerated;
using Robust.Client.UserInterface;
using Robust.Client.UserInterface.XAML;

namespace Content.Client.Administration.UI.BanList;

[GenerateTypedNameReferences]
public sealed partial class BanListControl : Control
{
    public BanListControl()
    {
        RobustXamlLoader.Load(this);
    }

    public void SetBans(List<SharedServerBan> bans)
    {
        foreach (var control in Bans.Children.ToArray()[1..])
        {
            control.Orphan();
        }

        foreach (var ban in bans)
        {
            Bans.AddChild(new HSeparator());
            Bans.AddChild(new BanListLine(ban));
        }
    }
}
