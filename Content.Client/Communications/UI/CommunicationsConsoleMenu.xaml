<ui:FancyWindow xmlns="https://spacestation14.io"
    xmlns:ui="clr-namespace:Content.Client.UserInterface.Controls"
    xmlns:gfx="clr-namespace:Robust.Client.Graphics;assembly=Robust.Client"
    Title="{Loc 'comms-console-menu-title'}" Resizable="False">
    <BoxContainer
        Orientation="Horizontal"
        HorizontalExpand="True"
        VerticalExpand="True"
        MinHeight="450">

        <!-- First column: Announcements and station alert level controls -->
        <BoxContainer Orientation="Vertical" VerticalExpand="True" Margin="12 12 6 12">
            <!-- Announcement controls -->
            <ui:ForegroundImageContainer StyleClasses="SquareOutlineShadow"
                VerticalExpand="True"
                VerticalAlignment="Top"
                Margin="0 0 0 6">

                <ui:ForegroundImageContainer StyleClasses="SquareBevelHighlight">
                    <PanelContainer StyleClasses="PanelBackgroundBaseDark">
                        <BoxContainer Orientation="Vertical" Margin="12">
                            <ui:ForegroundImageContainer
                                StyleClasses="PanelMountHighlight"
                                HorizontalAlignment="Stretch"
                                VerticalExpand="True"
                                VerticalAlignment="Stretch">
                                 <ui:ForegroundImageContainer
                                    StyleClasses="PanelMountBase"
                                    HorizontalAlignment="Stretch"
                                    VerticalExpand="True"
                                    VerticalAlignment="Stretch">
                                    <TextEdit Name="MessageInput" MinHeight="100" Margin="6" />
                                 </ui:ForegroundImageContainer>
                            </ui:ForegroundImageContainer>
                            <ui:HSpacer Spacing="10"/>
                            <ui:ForegroundImageContainer StyleClasses="AngleRectOutlineShadow">
                                <ui:ForegroundImageContainer StyleClasses="AngleRectBevel">
                                    <Button Name="AnnounceButton" Access="Public"
                                        Text="{Loc 'comms-console-menu-announcement-button'}" />
                                </ui:ForegroundImageContainer>
                            </ui:ForegroundImageContainer>
                        </BoxContainer>
                    </PanelContainer>
                </ui:ForegroundImageContainer>
            </ui:ForegroundImageContainer>

            <ui:ForegroundImageContainer StyleClasses="SquareOutlineShadow">
                <ui:ForegroundImageContainer
                    StyleClasses="SquareBevelHighlight"
                    VerticalExpand="True"
                    VerticalAlignment="Bottom">
                    <PanelContainer StyleClasses="PanelBackgroundBaseDark">
                        <ui:ForegroundImageContainer StyleClasses="BracketedContainerEmbossed"
                            HorizontalAlignment="Center"
                            Margin="0 6 0 6">
                            <BoxContainer Orientation="Vertical">
                                <Label StyleClasses="StatusFieldTitle"
                                    Text="{Loc 'comms-console-alert-level-label'}"
                                    HorizontalAlignment="Center" />
                                <GridContainer Columns="2">
                                    <!-- Row with alert level light and label -->
                                    <ui:ForegroundImageContainer
                                        StyleClasses="PanelMountHighlightSmall" SetSize="60 35">
                                        <ui:ForegroundImageContainer
                                            StyleClasses="PanelMountBaseSmall"
                                            HorizontalExpand="True" VerticalExpand="True">
                                            <TextureButton Name="AlertLevelLight"
                                                TexturePath="/Textures/Interface/Nano/square.png"
                                                HorizontalAlignment="Stretch"
                                                VerticalAlignment="Stretch" />
                                        </ui:ForegroundImageContainer>
                                    </ui:ForegroundImageContainer>

                                    <Label Name="CurrentAlertLabel" HorizontalAlignment="Center"/>

                                    <!-- Row with a visual seperator line -->
                                    <PanelContainer>
                                        <PanelContainer.PanelOverride>
                                            <gfx:StyleBoxFlat BackgroundColor="#A88B5E" />
                                        </PanelContainer.PanelOverride>
                                        <ui:HSpacer Spacing="2"/>
                                    </PanelContainer>
                                    <!-- A little horizontal gap appears here. Can it be removed somehow?-->
                                    <PanelContainer>
                                        <PanelContainer.PanelOverride>
                                            <gfx:StyleBoxFlat BackgroundColor="#A88B5E" />
                                        </PanelContainer.PanelOverride>
                                        <ui:HSpacer Spacing="2"/>
                                    </PanelContainer>

                                    <!-- Row with controls to change alert level -->
                                    <ui:ForegroundImageContainer StyleClasses="AngleRectOutlineShadow" Margin="6">
                                        <ui:ForegroundImageContainer StyleClasses="AngleRectBevel">
                                            <OptionButton Name="AlertLevelOptions" MinWidth="100" Access="Public" VerticalAlignment="Center"/>
                                        </ui:ForegroundImageContainer>
                                    </ui:ForegroundImageContainer>

                                    <ui:ForegroundImageContainer StyleClasses="AngleRectOutlineShadow" Margin="6">
                                        <ui:ForegroundImageContainer StyleClasses="AngleRectBevel">
                                            <Button Name="SetAlertLevelButton" Access="Public" Text="{Loc 'comms-console-menu-set-alert-button-label'}" />
                                        </ui:ForegroundImageContainer>
                                    </ui:ForegroundImageContainer>
                                </GridContainer>
                            </BoxContainer>
                        </ui:ForegroundImageContainer>
                    </PanelContainer>
                </ui:ForegroundImageContainer>
            </ui:ForegroundImageContainer>
        </BoxContainer>

        <!-- Second column: Shuttle state indicators and call/recall buttons -->
        <Control Margin="6 12 12 12">
            <ui:ForegroundImageContainer StyleClasses="SquareBevelHighlight" Margin="6 0 0 0">
                <ui:StripeBack
                    HasTopEdge="False" HasBottomEdge="False"
                    StyleClasses="StripeWarning" HorizontalExpand="False"
                    HorizontalAlignment="Center">

                    <BoxContainer Orientation="Vertical" HorizontalAlignment="Stretch">
                        <ui:ForegroundImageContainer
                            StyleClasses="AngleRectEmbedded"
                            HorizontalAlignment="Stretch"
                            VerticalAlignment="Top"
                            Margin="12" >
                                <PanelContainer StyleClasses="AngleRect"
                                    HorizontalAlignment="Stretch"
                                    VerticalAlignment="Stretch">
                                    <ui:ForegroundImageContainer Margin="4" StyleClasses="BracketedContainerEmbossed">
                                        <BoxContainer Orientation="Vertical" VerticalAlignment="Bottom" HorizontalAlignment="Center" VerticalExpand="True">
                                            <Label Text="{Loc 'comms-console-menu-call-shuttle'}" />
                                            <ui:HSpacer Spacing="12"/>
                                            <ui:ForegroundImageContainer
                                                StyleClasses="PanelMountHighlight"
                                                HorizontalAlignment="Center"
                                                SetSize="80 80"
                                                VerticalAlignment="Center">
                                                 <ui:ForegroundImageContainer
                                                    StyleClasses="PanelMountBase"
                                                    HorizontalAlignment="Center"
                                                    SetSize="80 80"
                                                    VerticalAlignment="Center">
                                                    <TextureButton Name="EmergencyShuttleCallButton" Access="Public"
                                                        HorizontalAlignment="Stretch" VerticalAlignment="Stretch"
                                                        StyleClasses="TemptingRedButton" />
                                                </ui:ForegroundImageContainer>
                                            </ui:ForegroundImageContainer>
                                        </BoxContainer>
                                    </ui:ForegroundImageContainer>
                                </PanelContainer>
                        </ui:ForegroundImageContainer>

                        <!-- This contains the shuttle state indicators -->
                        <ui:ForegroundImageContainer
                            Name="EmbeddedShuttleState"
                            Margin="12"
                            StyleClasses="AngleRectEmbedded"
                            VerticalAlignment="Center">
                            <PanelContainer StyleClasses="AngleRect">
                                <ui:ForegroundImageContainer Margin="4" StyleClasses="BracketedContainerEmbossed">
                                    <BoxContainer Orientation="Vertical">
                                        <!-- "Shuttle is incoming" light in here -->
                                        <BoxContainer Orientation="Horizontal" HorizontalExpand="True" HorizontalAlignment="Stretch">
                                            <Label Text="{Loc 'comms-shuttle-incoming-label'}" VerticalAlignment="Center" />
                                            <ui:VSpacer Spacing="12"/>
                                            <BoxContainer HorizontalExpand="True" HorizontalAlignment="Right" VerticalAlignment="Center">
                                                <ui:ForegroundImageContainer StyleClasses="PanelMountHighlightSmall" Margin="0 0 4 0" >
                                                     <ui:ForegroundImageContainer
                                                        StyleClasses="PanelMountBaseSmall"
                                                        HorizontalExpand="True"
                                                        HorizontalAlignment="Right">
                                                        <TextureButton Name="ShuttleIncomingLight"
                                                            StyleClasses="LightUnlit"
                                                            HorizontalAlignment="Stretch"
                                                            VerticalAlignment="Stretch"/>
                                                    </ui:ForegroundImageContainer>
                                                </ui:ForegroundImageContainer>
                                            </BoxContainer>
                                        </BoxContainer>

                                        <ui:HSpacer Spacing="12"/>

                                        <!-- Shuttle "arriving in" label here -->
                                        <BoxContainer Orientation="Horizontal" HorizontalExpand="True">
                                            <Label Text="{Loc 'comms-shuttle-arriving-duration-label'}" VerticalAlignment="Center"/>
                                            <ui:VSpacer Spacing="12"/>
                                            <ui:ForegroundImageContainer
                                                StyleClasses="PanelMountHighlight"
                                                HorizontalExpand="True"
                                                HorizontalAlignment="Right">
                                                 <ui:ForegroundImageContainer StyleClasses="PanelMountBase" VerticalExpand="True">
                                                    <PanelContainer
                                                        StyleClasses="PanelBackgroundBaseDark"
                                                        HorizontalAlignment="Stretch"
                                                        VerticalAlignment="Stretch"
                                                        Margin="0 4 0 0">
                                                        <Label Name="CountdownLabel" StyleClasses="LabelLCDBig" Margin="2"/>
                                                    </PanelContainer>
                                                </ui:ForegroundImageContainer>
                                            </ui:ForegroundImageContainer>
                                        </BoxContainer>
                                    </BoxContainer>
                                </ui:ForegroundImageContainer>
                            </PanelContainer>
                        </ui:ForegroundImageContainer>

                        <!-- Button to recall shuttle -->
                        <ui:ForegroundImageContainer Margin="12"
                                StyleClasses="AngleRectEmbedded"
                                VerticalAlignment="Bottom"
                                VerticalExpand="True">
                            <PanelContainer StyleClasses="AngleRect">
                                <ui:ForegroundImageContainer Margin="4" StyleClasses="BracketedContainerEmbossed">
                                    <BoxContainer Orientation="Vertical" VerticalAlignment="Bottom">
                                        <Label Text="{Loc 'comms-console-menu-recall-shuttle'}" />
                                        <ui:HSpacer Spacing="12"/>
                                        <ui:ForegroundImageContainer
                                            StyleClasses="PanelMountHighlight"
                                            HorizontalAlignment="Center"
                                            VerticalAlignment="Center">
                                             <ui:ForegroundImageContainer
                                                StyleClasses="PanelMountBase"
                                                HorizontalAlignment="Center"
                                                MinSize="80 80"
                                                VerticalAlignment="Center">
                                                <TextureButton Name="EmergencyShuttleRecallButton" Access="Public"
                                                    StyleClasses="TemptingRedButton" />
                                            </ui:ForegroundImageContainer>
                                        </ui:ForegroundImageContainer>
                                    </BoxContainer>
                                </ui:ForegroundImageContainer>
                            </PanelContainer>
                        </ui:ForegroundImageContainer>
                    </BoxContainer>
                </ui:StripeBack>
            </ui:ForegroundImageContainer>
        </Control>
    </BoxContainer>
</ui:FancyWindow>
