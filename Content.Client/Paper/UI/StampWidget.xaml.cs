using Content.Shared.Paper;
using Robust.Client.AutoGenerated;
using Robust.Client.Graphics;
using Robust.Client.ResourceManagement;
using Robust.Client.UserInterface.Controls;
using Robust.Client.UserInterface.XAML;

namespace Content.Client.Paper.UI
{
    [GenerateTypedNameReferences]
    public sealed partial class StampWidget : Container
    {
        private StyleBoxTexture _borderTexture;

        public StampInfo StampInfo {
            set {
                StampedByLabel.Text = Loc.GetString(value.StampName);
                StampedByLabel.FontColorOverride = value.StampColor;
                StampBorder.ModulateSelfOverride = value.StampColor;
            }
        }

        public StampWidget()
        {
            RobustXamlLoader.Load(this);
            var resCache = IoCManager.Resolve<IResourceCache>();
            var borderImage = resCache.GetResource<TextureResource>(
                    "/Textures/Interface/Paper/paper_stamp_border.svg.96dpi.png");
            _borderTexture = new StyleBoxTexture {
                Texture = borderImage,
            };
            _borderTexture.SetPatchMargin(StyleBoxTexture.Margin.All, 7.0f);
            StampBorder.PanelOverride = _borderTexture;
        }
    }
}
