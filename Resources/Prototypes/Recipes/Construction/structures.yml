- type: constructionGraph
  id: girder
  graph:
    - node: start
      edges:
        - to: girder
          steps:
            - material: Metal
              amount: 2

    - node: girder
      entity: Girder # this turns the entity into girder prototype
      edges:
        # One problem here: We need to delete the entity and spawn
        # two metal sheets... How do we do that?
        # Here's another problem: We need to unanchor the girder
        # to access certain steps. Do we make that a node, or...?
        - to: start
          completed:
          - !type:SpawnPrototype
            prototype: SteelSheet1
            amount: 2
          - !type:DeleteEntity {}
          conditions:
          - !type:EntityAnchored
            anchored: false
          steps:
            - tool: Screwing
              doAfter: 2

        - to: fakeWall
          conditions:
          - !type:EntityAnchored
            anchored: false
          steps:
            - material: Metal
              doAfter: 2

        - to: fakeReinforcedWall
          conditions:
          - !type:EntityAnchored
            anchored: false
          steps:
            - material: Glass
              doAfter: 2

        - to: wall
          conditions:
            - !type:EntityAnchored {}
          steps:
            - material: Metal
              amount: 2

        - to: reinforcedGirder
          conditions:
            - !type:EntityAnchored {}
          steps:
            - material: Glass
              amount: 2

    - node: fakeWall
      entity: FakeWall
      edges:
        - to: girder
          steps:
            - tool: Welding
              doAfter: 2

    - node: fakeReinforcedWall
      entity: FakeReinforcedWall
      edges:
        - to: girder
          steps:
            - tool: Welding
              doAfter: 2

    - node: wall
      entity: solid_wall
      edges:
        - to: girder
          completed:
            - !type:SpawnPrototype
              prototype: SteelSheet1
              amount: 2
          steps:
            - tool: Welding
              doAfter: 2

    - node: reinforcedGirder
      spriteState: reinforcedGirder
      edges:
        - to: reinforcedWall
          steps:
            - material: Glass
              amount: 2

    - node: reinforcedWall
      entity: reinforced_wall
      edges:
        - to: girder
          steps:
            # We all know how painful deconstructing reinforced walls is.
            # The only reason these aren't all nodes is because there's
            # no real reason to. We just make a bunch of steps and call it a day.
            - tool: Cutting
              doAfter: 1
            - tool: Screwing
              doAfter: 1
            - tool: Welding
              doAfter: 1
            - tool: Prying
              doAfter: 1
            - tool: Anchoring
              doAfter: 1
            - tool: Welding
              doAfter: 2
            - tool: Prying
              doAfter: 1
            - tool: Screwing
              doAfter: 1
            - tool: Cutting
              doAfter: 1



- type: construction
  name: wall
  id: wall
  category: Structures
  description: Keeps the air in and the greytide out.
  icon:
    sprite: Constructible/Structures/Walls/solid.rsi
    state: full
  objectType: Structure
  result: solid_wall
  placementMode: SnapgridCenter
  steps:
  - material: Metal
    amount: 2
    icon: Constructible/Structures/Walls/wall_girder.png
    reverse:
      tool: Anchoring
  - material: Metal
    amount: 2
    reverse:
      tool: Anchoring

- type: construction
  name: table
  id: Table
  category: Structures
  icon:
    sprite: Constructible/Structures/Tables/generic.rsi
    state: plain_preview
  result: Table
  placementMode: SnapgridCenter
  steps:
  - material: Metal
    amount: 2

- type: construction
  name: window
  id: Window
  category: Structures
  description: Clear.
  icon:
    sprite: Constructible/Structures/Windows/window.rsi
    state: full
  objectType: Structure
  result: Window
  placementMode: SnapgridCenter
  steps:
  - material: Glass
    amount: 2
    reverse:
      tool: Screwing

- type: construction
  name: low wall
  id: LowWall
  category: Structures
  description: A low wall used for mounting windows.
  icon:
    sprite: Constructible/Structures/Walls/low_wall.rsi
    state: metal
  objectType: Structure
  result: LowWall
  placementMode: SnapgridCenter
  steps:
  - material: Metal
    amount: 2
    icon: Constructible/Structures/Walls/wall_girder.png
    reverse:
      tool: Anchoring

  - material: Metal
    amount: 2
    reverse:
      tool: Anchoring

- type: construction
  name: rein window
  id: ReinforcedWindow
  category: Structures
  description: Clear but tough.
  icon:
    sprite: Constructible/Structures/Windows/reinforced_window.rsi
    state: full
  objectType: Structure
  result: ReinforcedWindow
  placementMode: SnapgridCenter
  steps:
  - material: Glass
    amount: 2
    reverse:
      tool: Anchoring
# Should be replaced with Metal Rods when someone puts them in.
  - material: Metal
    amount: 2
    reverse:
      # Should be replaced with Wirecutter when someone makes it work.
      tool: Anchoring
