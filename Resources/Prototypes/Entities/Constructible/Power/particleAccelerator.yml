- type: entity
  id: ParticleAcceleratorBase
  abstract: true
  placement:
    mode: SnapgridCenter
  components:
    - type: InteractionOutline
    - type: Anchorable
    - type: Collidable
      shapes:
        - !type:PhysShapeAabb
          bounds: "-0.49,-0.49,0.49,0.49"
          layer:
            - Opaque
            - Impassable
            - MobImpassable
            - VaultImpassable
      IsScrapingFloor: true
    - type: Physics
      mass: 25
      anchored: true
    - type: SnapGrid
      offset: Center
    - type: Pullable
    - type: Clickable

- type: entity
  name: Particles
  description: "Accelerated particles."
  id: ParticlesProjectile
  parent: BulletBase
  components:
    - type: Sprite
      sprite: Constructible/Power/PA/particle.rsi
      state: particle0
      shader: unshaded
    - type: Projectile
      delete_on_collide: false
      soundHit: /Audio/Weapons/Guns/Hits/bullet_hit.ogg
      damages:
        Radiation: 10
    - type: Collidable
      hard: false
      shapes:
      - !type:PhysShapeAabb
        bounds: "-0.48,-0.48,0.48,0.48"
        layer: [None]
        mask:
        - MobMask
        - Clickable
    - type: ParticleProjectile

# Working PA

- type: entity
  parent: ParticleAcceleratorBase
  id: ParticleAcceleratorControlBox
  name: Particle Accelerator Control Box
  description: This controls the density of the particles.
  components:
    - type: Sprite
      sprite: Constructible/Power/PA/control_box.rsi
      layers:
        - state: control_boxc
          map: [ "enum.ParticleAcceleratorVisualLayers.Base" ]
        - state: control_box_unlitp
          map: [ "enum.ParticleAcceleratorVisualLayers.Unlit" ]
          shader: unshaded
          visible: false
    - type: Appearance
      visuals:
        - type: ParticleAcceleratorPartVisualizer
          baseState: control_box_unlit
    - type: PowerReceiver
    - type: ParticleAcceleratorControlBox
    - type: UserInterface
      interfaces:
        - key: enum.ParticleAcceleratorControlBoxUiKey.Key
          type: ParticleAcceleratorBoundUserInterface
        - key: enum.WiresUiKey.Key
          type: WiresBoundUserInterface
    - type: Wires
      BoardName: "Mk2 Particle Accelerator"

- type: entity
  parent: ParticleAcceleratorBase
  id: ParticleAcceleratorEmitterLeft
  name: Particle Accelerator Emitter (left)
  description: This launchs the Alpha particles, might not want to stand near this end.
  components:
    - type: Sprite
      sprite: Constructible/Power/PA/emitter_left.rsi
      layers:
        - state: emitter_leftc
          map: [ "enum.ParticleAcceleratorVisualLayers.Base" ]
        - state: emitter_left_unlitp
          map: [ "enum.ParticleAcceleratorVisualLayers.Unlit" ]
          shader: unshaded
          visible: false
    - type: Appearance
      visuals:
        - type: ParticleAcceleratorPartVisualizer
          baseState: emitter_left_unlit
    - type: ParticleAcceleratorEmitter
      emitterType: left


- type: entity
  parent: ParticleAcceleratorBase
  id: ParticleAcceleratorEmitterCenter
  name: Particle Accelerator Emitter (center)
  description: This launchs the Alpha particles, might not want to stand near this end.
  components:
    - type: Sprite
      sprite: Constructible/Power/PA/emitter_center.rsi
      layers:
        - state: emitter_centerc
          map: [ "enum.ParticleAcceleratorVisualLayers.Base" ]
        - state: emitter_center_unlitp
          map: [ "enum.ParticleAcceleratorVisualLayers.Unlit" ]
          shader: unshaded
          visible: false
    - type: Appearance
      visuals:
        - type: ParticleAcceleratorPartVisualizer
          baseState: emitter_center_unlit
    - type: ParticleAcceleratorEmitter
      emitterType: center

- type: entity
  parent: ParticleAcceleratorBase
  id: ParticleAcceleratorEmitterRight
  name: Particle Accelerator Emitter (right)
  description: This launchs the Alpha particles, might not want to stand near this end.
  components:
    - type: Sprite
      sprite: Constructible/Power/PA/emitter_right.rsi
      layers:
        - state: emitter_rightc
          map: [ "enum.ParticleAcceleratorVisualLayers.Base" ]
        - state: emitter_right_unlitp
          map: [ "enum.ParticleAcceleratorVisualLayers.Unlit" ]
          shader: unshaded
          visible: false
    - type: Appearance
      visuals:
        - type: ParticleAcceleratorPartVisualizer
          baseState: emitter_right_unlit
    - type: ParticleAcceleratorEmitter
      emitterType: right

- type: entity
  parent: ParticleAcceleratorBase
  id: ParticleAcceleratorEndCap
  name: Particle Accelerator End Cap
  description: This is where Alpha particles are generated from \[REDACTED\].
  components:
    - type: Sprite
      sprite: Constructible/Power/PA/end_cap.rsi
      state: end_capc
    - type: ParticleAcceleratorEndCap

- type: entity
  parent: ParticleAcceleratorBase
  id: ParticleAcceleratorFuelChamber
  name: Particle Accelerator Fuel Chamber
  description: This is where the Alpha particles are accelerated to radical speeds.
  components:
    - type: Sprite
      sprite: Constructible/Power/PA/fuel_chamber.rsi
      layers:
        - state: fuel_chamberc
          map: [ "enum.ParticleAcceleratorVisualLayers.Base" ]
        - state: fuel_chamber_unlitp
          map: [ "enum.ParticleAcceleratorVisualLayers.Unlit" ]
          shader: unshaded
          visible: false
    - type: Appearance
      visuals:
        - type: ParticleAcceleratorPartVisualizer
          baseState: fuel_chamber_unlit
    - type: ParticleAcceleratorFuelChamber

- type: entity
  parent: ParticleAcceleratorBase
  id: ParticleAcceleratorPowerBox
  name: Particle Accelerator Power Box
  description: This uses electromagnetic waves to focus the Alpha-Particles.
  components:
    - type: Sprite
      sprite: Constructible/Power/PA/power_box.rsi
      layers:
        - state: power_boxc
          map: [ "enum.ParticleAcceleratorVisualLayers.Base" ]
        - state: power_box_unlitp
          map: [ "enum.ParticleAcceleratorVisualLayers.Unlit" ]
          shader: unshaded
          visible: false
    - type: Appearance
      visuals:
        - type: ParticleAcceleratorPartVisualizer
          baseState: power_box_unlit
    - type: ParticleAcceleratorPowerBox

# Unfinished PA

- type: entity
  parent: ParticleAcceleratorBase
  id: ParticleAcceleratorControlBoxUnfinished
  name: Particle Accelerator Control Box
  suffix: Unfinished
  description: This controls the density of the particles.
  components:
    - type: Sprite
      sprite: Constructible/Power/PA/control_box.rsi
      state: control_box

- type: entity
  parent: ParticleAcceleratorBase
  id: ParticleAcceleratorEmitterLeftUnfinished
  name: Particle Accelerator Emitter (left)
  suffix: Unfinished
  description: This launchs the Alpha particles, might not want to stand near this end.
  components:
    - type: Sprite
      sprite: Constructible/Power/PA/emitter_left.rsi
      state: emitter_left

- type: entity
  parent: ParticleAcceleratorBase
  id: ParticleAcceleratorEmitterCenterUnfinished
  name: Particle Accelerator Emitter (center)
  suffix: Unfinished
  description: This launchs the Alpha particles, might not want to stand near this end.
  components:
    - type: Sprite
      sprite: Constructible/Power/PA/emitter_center.rsi
      state: emitter_center

- type: entity
  parent: ParticleAcceleratorBase
  id: ParticleAcceleratorEmitterRightUnfinished
  name: Particle Accelerator Emitter (right)
  suffix: Unfinished
  description: This launchs the Alpha particles, might not want to stand near this end.
  components:
    - type: Sprite
      sprite: Constructible/Power/PA/emitter_right.rsi
      state: emitter_right

- type: entity
  parent: ParticleAcceleratorBase
  id: ParticleAcceleratorEndCapUnfinished
  name: Particle Accelerator End Cap
  suffix: Unfinished
  description: This is where Alpha particles are generated from \[REDACTED\]. It looks unfinished.
  components:
    - type: Sprite
      sprite: Constructible/Power/PA/end_cap.rsi
      state: end_cap

- type: entity
  parent: ParticleAcceleratorBase
  id: ParticleAcceleratorFuelChamberUnfinished
  name: Particle Accelerator Fuel Chamber
  suffix: Unfinished
  description: This is where the Alpha particles are accelerated to radical speeds.
  components:
    - type: Sprite
      sprite: Constructible/Power/PA/fuel_chamber.rsi
      state: fuel_chamber

- type: entity
  parent: ParticleAcceleratorBase
  id: ParticleAcceleratorPowerBoxUnfinished
  name: Particle Accelerator Power Box
  suffix: Unfinished
  description: This uses electromagnetic waves to focus the Alpha-Particles.
  components:
    - type: Sprite
      sprite: Constructible/Power/PA/power_box.rsi
      state: power_box
