- type: entity
  name: mafia card box
  parent: SmallboxItem
  id: MafiaCardBox
  description: A box with cards for playing mafia in the amount of 10 players.
  components:
  - type: EmitSoundOnLand
    sound:
      path: /Audio/Items/matchbox_drop.ogg
  - type: Sprite
    netsync: false
    sprite: Objects\Fun\Tabletop\mafia\mafiacardsbox.rsi
    state: cardbox
  - type: Item
    sprite: Objects\Fun\Tabletop\mafia\mafiacardsbox.rsi
    size: 15
  - type: Storage
    capacity: 15
  - type: StorageFill
    contents:
      - id: CardAgent
        amount: 2
      - id: CardDetective
      - id: CardMedic
      - id: CardPassenger
        amount: 6
      - id: BookMafiaManual

- type: entity
  parent: BookBase
  id: BookMafiaManual
  name: Mafia Game Instructions
  description: "0+" is written on the book in small letters.
  components:
    - type: Sprite
      sprite: Objects/Misc/books.rsi
      layers:
        - state: book_detective
    - type: MeleeWeapon
      damage:
        types:
          Blunt: 6
    - type: Paper
      content: book-text-mafia-manual

- type: entity
  abstract: true
  parent: BaseItem
  id: BaseCard
  components:
  - type: Sprite
    sprite: Objects\Fun\Tabletop\mafia\mafiacards.rsi
    drawdepth: SmallObjects
    layers:
    - state: cardunknown
      map: ["enum.StorageVisualLayers.Door"]
    netsync: false
  - type: Item
    sprite: Objects\Fun\Tabletop\mafia\mafiacards.rsi
    size: 1
  - type: Storage
    capacity: -1
  - type: UserInterface
    interfaces:
    - key: enum.StorageUiKey.Key
      type: StorageBoundUserInterface

- type: entity
  name: card
  suffix: Agent
  parent: BaseCard
  id: CardAgent
  description: Turn over the card to find out your role.
  components:
  - type: Appearance
    visuals:
    - type: StorageVisualizer
      state_open: cardagent
      state_closed: cardunknown

- type: entity
  name: card
  suffix: Detective
  parent: BaseCard
  id: CardDetective
  description: Turn over the card to find out your role.
  components:
  - type: Appearance
    visuals:
    - type: StorageVisualizer
      state_open: carddetective
      state_closed: cardunknown

- type: entity
  name: card
  suffix: Passenger
  parent: BaseCard
  id: CardPassenger
  description: Turn over the card to find out your role.
  components:
  - type: Appearance
    visuals:
    - type: StorageVisualizer
      state_open: cardpassenger
      state_closed: cardunknown

- type: entity
  name: card
  suffix: Medic
  parent: BaseCard
  id: CardMedic
  description: Turn over the card to find out your role.
  components:
  - type: Appearance
    visuals:
    - type: StorageVisualizer
      state_open: cardmedic
      state_closed: cardunknown
