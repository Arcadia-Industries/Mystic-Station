- type: entity
  name: green glowstick
  parent: BaseItem
  id: GlowstickBase
  description: Useful for raves and emergencies.
  components:
    - type: ExpendableLight
      spentName: spent green glowstick
      spentDesc: It looks like this glowstick has stopped glowing. How tragic.
      glowRadius: 5
      glowEnergy: 2.2
      glowDuration: 900 # time in seconds
      fadeOutDuration: 300
      iconStateOn: glowstick_lit
      iconStateSpent: glowstick_unlit
    - type: Sprite
      sprite: Objects/Misc/glowstick.rsi
      layers:
        - state: glowstick_base
        - state: glowstick_unlit
          color: "#00FF00"
    - type: Icon
      sprite: Objects/Misc/glowstick.rsi
      state: glowstick_unlit
    - type: Item
      sprite: Objects/Misc/glowstick.rsi
      color: "#00FF00" 
      HeldPrefix: off
    - type: PointLight
      enabled: false
      color: "#00FF00"
      radius: 5


- type: entity
  name: red glowstick
  parent: GlowstickBase
  id: GlowstickRed
  components:
    - type: ExpendableLight
      spentName: spent red glowstick
      spentDesc: It looks like this glowstick has stopped glowing. How tragic.
      glowRadius: 5
      glowEnergy: 2.2
      glowDuration: 900
      fadeOutDuration: 300
      iconStateOn: glowstick_lit
      iconStateSpent: glowstick_unlit
    - type: Sprite
      sprite: Objects/Misc/glowstick.rsi
      layers:
        - state: glowstick_base
        - state: glowstick_unlit
          color: "#FF0000"
    - type: Item
      sprite: Objects/Misc/glowstick.rsi
      color: "#FF0000" 
      HeldPrefix: off
    - type: PointLight
      enabled: false
      color: "#FF0000"
      radius: 5

# AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
# THESE ARE ALL DUMMY ENTITIES USED TO TEST THE LIGHT BEHAVIOUR SYSTEM
- type: entity
  name: light pulse test
  parent: BaseItem
  id: LightBehaviourTest1
  components:
    - type: Sprite
      sprite: Objects/Misc/glowstick.rsi
      layers:
        - state: glowstick_base
        - state: glowstick_unlit
          shader: unshaded
          color: "#FF0000"
    - type: Item
      sprite: Objects/Misc/glowstick.rsi
      HeldPrefix: off
    - type: Icon
      sprite: Objects/Misc/glowstick.rsi
      state: glowstick_unlit
    - type: PointLight
      enabled: true
      color: "#FF0000"
    - type: LightBehaviour
      behaviours:
        - !type:PulseBehaviour
          interpolate: Linear
          maxDuration: 2.0
          minValue: 1.0
          maxValue: 7.0
          isLooped: true
          property: Energy
          enabled: true

- type: entity
  name: color cycle test
  parent: BaseItem
  id: LightBehaviourTest2
  components:
    - type: Sprite
      sprite: Objects/Misc/glowstick.rsi
      layers:
        - state: glowstick_base
        - state: glowstick_unlit
          shader: unshaded
          color: "#FF0000"
    - type: Item
      sprite: Objects/Misc/glowstick.rsi
      HeldPrefix: off
    - type: Icon
      sprite: Objects/Misc/glowstick.rsi
      state: glowstick_unlit
    - type: PointLight
      enabled: true
      color: "#FF0000"
    - type: LightBehaviour
      behaviours:
        - !type:ColorCycleBehaviour
          interpolate: Nearest
          maxDuration: 0.8
          isLooped: true
          enabled: true
          colors:
            - red
            - blue
            - green

- type: entity
  name: multi-behaviour light test
  parent: BaseItem
  id: LightBehaviourTest3
  components:
    - type: Sprite
      sprite: Objects/Misc/glowstick.rsi
      layers:
        - state: glowstick_base
        - state: glowstick_unlit
          shader: unshaded
          color: "#FF0000"
    - type: Item
      sprite: Objects/Misc/glowstick.rsi
      HeldPrefix: off
    - type: Icon
      sprite: Objects/Misc/glowstick.rsi
      state: glowstick_unlit
    - type: PointLight
      enabled: false
      color: "#FF0000"
    - type: LightBehaviour
      behaviours:
        - !type:PulseBehaviour
          interpolate: Nearest
          minDuration: 0.2
          maxDuration: 1.0
          maxValue: 0.2
          property: Enabled
          isLooped: true
          enabled: true
        - !type:ColorCycleBehaviour
          interpolate: Cubic
          maxDuration: 0.8
          isLooped: true
          enabled: true
          colors:
            - red
            - blue
            - green