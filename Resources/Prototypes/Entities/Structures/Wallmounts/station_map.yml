- type: entity
  id: WallStationMapBroken
  name: station map
  desc: A virtual map of the surrounding station.
  suffix: Wall broken
  placement:
    mode: SnapgridCenter
  components:
    - type: InteractionOutline
    - type: Clickable
    - type: Sprite
      netsync: false
      sprite: Structures/Machines/station_map.rsi
      drawdepth: WallMountedItems
      layers:
        - state: station_map_broken
    - type: Construction
      graph: StationMap
      node: broken
    - type: Damageable
      damageContainer: Inorganic
    - type: Destructible
      thresholds:
        - trigger:
            !type:DamageTrigger
            damage: 100
          behaviors:
            - !type:PlaySoundBehavior
              sound:
                collection: GlassBreak
            - !type:DoActsBehavior
              acts: [ "Destruction" ]

- type: entity
  id: WallStationMap
  name: station map
  desc: A virtual map of the surrounding station.
  parent: WallStationMapBroken
  suffix: Wall
  placement:
    mode: SnapgridCenter
  components:
    - type: Sprite
      layers:
        - state: station_map
    - type: ApcPowerReceiver
      powerLoad: 200
    - type: ExtensionCableReceiver
    - type: ActivatableUIRequiresPower
    - type: ActivatableUI
      key: enum.StationMapUiKey.Key
    - type: Construction
      graph: StationMap
      node: start
    - type: Destructible
      thresholds:
        - trigger:
            !type:DamageTrigger
            damage: 100
          behaviors:
            - !type:PlaySoundBehavior
              sound:
                collection: GlassBreak
            - !type:SpawnEntitiesBehavior
              spawn:
                WallStationMapBroken:
                  min: 1
                  max: 1
            - !type:DoActsBehavior
              acts: [ "Destruction" ]
    - type: UserInterface
      interfaces:
        - key: enum.StationMapUiKey.Key
          type: StationMapBoundUserInterface
